<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Võ Thành Phát | Portfolio 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        :root { --miku: #39c5bb; --glass: rgba(255, 255, 255, 0.03); --border: rgba(57, 197, 187, 0.2); }
        
        body { 
            font-family: 'Lexend', sans-serif; 
            background-color: #050a09; 
            background-image: 
                radial-gradient(at 0% 0%, rgba(57, 197, 187, 0.08) 0px, transparent 50%),
                radial-gradient(at 100% 100%, rgba(57, 197, 187, 0.05) 0px, transparent 50%),
                radial-gradient(at 50% 50%, rgba(10, 31, 29, 0.5) 0px, transparent 80%);
            background-attachment: fixed;
            color: #e6f7f6; 
            overflow-x: hidden;
            position: relative;
        }

        body::before {
            content: "";
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            opacity: 0.02;
            pointer-events: none;
            z-index: 1;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        #nav-menu::-webkit-scrollbar { display: none; }
        #nav-menu { -ms-overflow-style: none; scrollbar-width: none; scroll-behavior: smooth; }

        @media (pointer: fine) {
            body, a, button, .skill-tag, .project-card, .avatar-frame { cursor: none !important; }
            #cursor { display: block; }
        }
        @media (pointer: coarse) { #cursor { display: none; } }

        #loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #050a09; z-index: 10000;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            transition: transform 0.8s cubic-bezier(0.85, 0, 0.15, 1), opacity 0.5s;
        }
        #loader.hidden { transform: translateY(-100%); opacity: 0; visibility: hidden; }
        .loader-content { display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .loader-logo { display: flex; align-items: center; font-size: 1.125rem; letter-spacing: -0.05em; margin-bottom: 20px; }
        .loader-bar-container { width: 150px; height: 2px; background: rgba(57, 197, 187, 0.1); position: relative; overflow: hidden; border-radius: 2px; }
        #loader-progress { position: absolute; left: 0; top: 0; height: 100%; width: 0%; background: var(--miku); transition: width 0.2s ease; }
        .loader-percentage { font-family: monospace; font-size: 5rem; font-weight: 900; color: rgba(57, 197, 187, 0.3); position: absolute; bottom: 5%; right: 5%; }

        .miku-text { color: var(--miku); }
        #cursor {
            width: 20px; height: 20px; border: 2px solid var(--miku); border-radius: 50%;
            position: fixed; pointer-events: none; z-index: 9999;
            transition: transform 0.1s ease-out, background 0.3s ease;
            transform: translate(-50%, -50%);
        }

        .nav-link {
            transition: all 0.3s ease; width: 80px; text-align: center; padding: 6px 0;
            border-radius: 9999px; border: 1px solid transparent; color: #ffffff;
            position: relative; flex-shrink: 0;
        }
        .nav-link:hover { color: var(--miku) !important; }
        .nav-link.active {
            color: var(--miku) !important;
            border: 1px solid rgba(57, 197, 187, 0.5) !important;
            background: rgba(57, 197, 187, 0.1);
        }

        #hero-canvas-container {
            position: absolute; top: 0; left: 0; width: 100%; height: 100vh;
            overflow: hidden; pointer-events: none; z-index: 0;
            mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
            -webkit-mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
        }
        
        @keyframes floatRandom {
            0% { transform: translate(0, 0) rotate(0deg); }
            33% { transform: translate(15px, -20px) rotate(5deg); }
            66% { transform: translate(-10px, -35px) rotate(-5deg); }
            100% { transform: translate(0, 0) rotate(0deg); }
        }
        .adobe-icon { 
            position: absolute; 
            animation: floatRandom 10s infinite ease-in-out; 
            filter: grayscale(100%) brightness(150%); 
            opacity: 0.15;
            transition: opacity 0.5s ease;
        }
        .adobe-icon:hover { opacity: 0.4; }

        .avatar-container { perspective: 1000px; margin-bottom: 2rem; }
        .avatar-frame {
            width: 180px; height: 180px; border-radius: 50%; 
            border: 2px solid var(--miku);
            overflow: hidden; background: #111;
            transition: transform 0.1s ease-out;
            will-change: transform;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.03); 
            backdrop-filter: blur(12px); 
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08); 
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .glass-card:hover { 
            background: rgba(57, 197, 187, 0.05); 
            border-color: rgba(57, 197, 187, 0.3); 
            transform: translateY(-5px); 
        }

        .reveal { opacity: 0; transform: translateY(30px); transition: all 0.8s cubic-bezier(0.2, 0.8, 0.2, 1); }
        .reveal.active { opacity: 1; transform: translateY(0); }

        #progress-container { position: fixed; top: 0; left: 0; width: 100%; height: 2px; z-index: 60; background: transparent; }
        #progress-bar { height: 100%; width: 0%; background: var(--miku); box-shadow: 0 0 10px var(--miku); }
        .skill-tag { background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); padding: 8px 20px; border-radius: 999px; font-size: 13px; font-weight: 500; transition: all 0.3s ease; }
        .skill-tag:hover { border-color: var(--miku); background: rgba(57, 197, 187, 0.1); scale: 1.05; }
        
        .project-card { position: relative; overflow: hidden; border-radius: 16px; background: #0a0f0e; aspect-ratio: 16/10; }
        .project-img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s cubic-bezier(0.2, 0.8, 0.2, 1); }
        .project-card:hover .project-img { transform: scale(1.08); } 
        
        .project-overlay { position: absolute; inset: 0; background: linear-gradient(0deg, rgba(5,10,9,0.9) 0%, rgba(5,10,9,0.2) 60%, transparent 100%); display: flex; flex-direction: column; justify-content: flex-end; padding: 24px; }
        .timeline-container { position: relative; border-left: 1.5px solid rgba(57, 197, 187, 0.2); margin-left: 1.5rem; }
        .timeline-item { position: relative; padding-left: 2rem; margin-bottom: 3.5rem; }
        .timeline-dot { width: 12px; height: 12px; background: var(--miku); border-radius: 50%; position: absolute; left: -7px; top: 7px; border: 2px solid #050a09; }
        
        #backToTop { position: fixed; bottom: 30px; right: 30px; width: 45px; height: 45px; border-radius: 50%; background: rgba(57, 197, 187, 0.1); border: 1px solid var(--miku); color: var(--miku); z-index: 100; display: flex; align-items: center; justify-content: center; opacity: 0; visibility: hidden; transition: all 0.3s ease; backdrop-filter: blur(5px); }
        #backToTop.show { opacity: 1; visibility: visible; }

        .portfolio-grid-3d { display: grid; grid-template-columns: 1fr; gap: 20px; max-width: 1200px; margin: 0 auto; }
        @media (min-width: 1024px) { .portfolio-grid-3d { grid-template-columns: 280px 1fr 280px; height: 500px; } }
        .info-card-3d { background: var(--glass); border: 1px solid rgba(57, 197, 187, 0.1); border-radius: 15px; padding: 24px; backdrop-filter: blur(10px); display: flex; flex-direction: column; justify-content: space-between; }
        .viewport-box { position: relative; border-radius: 20px; border: 1px solid var(--border); background: #050a09; overflow: hidden; min-height: 400px; }
        .hud-label { font-size: 10px; color: var(--miku); font-weight: 700; letter-spacing: 2px; text-transform: uppercase; }
        .scan-line { position: absolute; width: 100%; height: 1px; background: var(--miku); opacity: 0.2; top: 0; animation: scanMove 3s linear infinite; pointer-events: none; }
        @keyframes scanMove { 0% { top: 0%; } 100% { top: 100%; } }
        .btn-action { background: var(--miku); color: #050a09; font-weight: 800; padding: 12px; border-radius: 8px; font-size: 11px; text-align: center; display: block; width: 100%; transition: 0.3s; text-transform: uppercase; }
    </style>
</head>
<body class="scroll-smooth">

    <div id="hero-canvas-container">
        <canvas id="hero-canvas"></canvas>
        <div class="adobe-icon" style="top: 19%; left: 25%;"><img src="https://cdn.worldvectorlogo.com/logos/adobe-photoshop-2.svg" class="w-8 md:w-12" alt="Ps"></div>
        <div class="adobe-icon" style="top: 30%; left: 80%;"><img src="https://cdn.worldvectorlogo.com/logos/adobe-illustrator-cc-3.svg" class="w-10 md:w-14" alt="Ai"></div>
        <div class="adobe-icon" style="top: 40%; left: 22%;"><img src="https://cdn.worldvectorlogo.com/logos/after-effects-1.svg" class="w-8 md:w-10" alt="Ae"></div>
        <div class="adobe-icon" style="top: 60%; left: 35%;"><img src="https://cdn.worldvectorlogo.com/logos/premiere-pro-cc.svg" class="w-8 md:w-12" alt="Pr"></div>
        <div class="adobe-icon" style="top: 75%; left: 20%;"><img src="https://cdn.worldvectorlogo.com/logos/capcut-3.svg" class="w-8 md:w-12" alt="Cc"></div>
        <div class="adobe-icon" style="top: 20%; left: 65%;"><img src="https://cdn.worldvectorlogo.com/logos/blender-2.svg" class="w-8 md:w-12" alt="Bl"></div>
        <div class="adobe-icon" style="top: 55%; left: 85%;"><img src="https://cdn.worldvectorlogo.com/logos/figma-icon.svg" class="w-8 md:w-10" alt="Fg"></div>
        <div class="adobe-icon" style="top: 60%; left: 70%;"><img src="https://cdn.worldvectorlogo.com/logos/adobe-indesign-cc-icon.svg" class="w-8 md:w-12" alt="Id"></div>
    </div>

    <div id="loader">
        <div class="loader-content">
            <div class="loader-logo"><span class="font-black miku-text mr-1.5 uppercase">VTP</span><span class="font-light text-white opacity-90">Design</span></div>
            <div class="loader-bar-container"><div id="loader-progress"></div></div>
        </div>
        <div id="loader-num" class="loader-percentage">00</div>
    </div>

    <div id="progress-container"><div id="progress-bar"></div></div>
    <div id="cursor"></div>

    <nav class="fixed w-full z-50 py-3 px-4 md:px-10 flex justify-between items-center bg-[#050a09]/70 backdrop-blur-xl border-b border-white/5">
        <div class="flex flex-col flex-shrink-0 mr-6">
            <div class="text-md md:text-lg flex items-center tracking-tighter">
                <span class="font-black miku-text mr-1.5 uppercase">VTP</span>
                <span class="font-light text-white opacity-90">Design</span>
            </div>
            <div class="flex flex-col space-y-0.5 mt-1">
                <div class="items-center space-x-1.5 hidden md:flex">
                    <div class="relative flex h-1.5 w-1.5"><span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-[#39c5bb] opacity-75"></span><span class="relative inline-flex rounded-full h-1.5 w-1.5 bg-[#39c5bb]"></span></div>
                    <span class="text-[8px] font-bold uppercase tracking-widest text-gray-400">Available</span>
                </div>
                <span id="digital-clock" class="text-[8px] font-mono text-gray-500 tracking-wider">00:00:00 AM</span>
            </div>
        </div>
        <div id="nav-menu" class="flex items-center overflow-x-auto space-x-1 text-[10px] font-bold uppercase tracking-widest md:justify-end flex-grow">
            <a href="#home" class="nav-link active">Home</a>
            <a href="#skills" class="nav-link">Skills</a>
            <a href="#career" class="nav-link">Career</a>
            <a href="#projects" class="nav-link">Work</a>
            <a href="#contact" class="nav-link">Contact</a>
        </div>
    </nav>

    <section id="home" class="min-h-screen flex flex-col justify-center items-center px-4 pt-28 pb-12 relative z-10">
        <div class="text-center mb-16 reveal">
            <div class="avatar-container">
                <div class="avatar-frame mx-auto" id="interactive-avatar">
                    <img src="avt.JPG" alt="Võ Thành Phát" class="w-full h-full object-cover pointer-events-none" onerror="this.src='https://i.postimg.cc/mD8p7f8p/miku-placeholder.jpg'">
                </div>
            </div>
            <h1 class="text-4xl md:text-7xl font-black mb-4 uppercase">VÕ THÀNH <span class="miku-text">PHÁT</span></h1>
            <h2 class="text-[10px] font-bold tracking-[0.4em] text-gray-500 uppercase">Graphic Designer / Content Creator</h2>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-10 w-full max-w-5xl items-start mt-10">
            <div class="text-left px-4 reveal">
                <h3 class="miku-text text-[14px] font-bold tracking-[0.1em] mb-4 mt-2 uppercase">Về bản thân</h3>
                <p class="text-xl text-gray-300 leading-relaxed italic border-l-2 border-miku/30 pl-6">"Ngoài thiết kế, mình còn là một nhà sưu tầm. Những chiếc máy Cassette cũ và nắp phén chai là nguồn cảm hứng cho sự tỉ mỉ của mình."</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="glass-card p-6 rounded-2xl reveal">
                    <h4 class="miku-text text-[12px] font-bold tracking-widest mb-4">HỌC VẤN</h4>
                    <p class="text-lg font-bold text-white">Đại học Văn Lang</p>
                    <p class="text-gray-500 text-[10px] mt-2">Khoa Mỹ thuật & Thiết kế (K27)</p>
                </div>
                <div class="glass-card p-6 rounded-2xl reveal">
                    <h4 class="miku-text text-[12px] font-bold tracking-widest mb-4">THÀNH TỰU</h4>
                    <p class="text-lg font-bold text-white">Giải Nhất Logo - MTTQ</p>
                    <p class="text-gray-500 text-[10px] mt-2">Huyện Củ Chi (2024-2029)</p>
                </div>
            </div>
        </div>
    </section>

    <section id="skills" class="py-24 px-6 max-w-4xl mx-auto border-t border-[#39c5bb]/10">
        <h3 class="text-2xl font-black mb-8 miku-text uppercase tracking-tighter reveal">Kỹ năng công cụ</h3>
        <div class="flex flex-wrap gap-3 mb-16 reveal">
            <span class="skill-tag">Photoshop</span> <span class="skill-tag">Illustrator</span> <span class="skill-tag">InDesign</span> 
            <span class="skill-tag">Figma</span> <span class="skill-tag">After Effects</span> <span class="skill-tag">Premiere Pro</span>
        </div>
    </section>

    <section id="career" class="py-24 px-6 max-w-4xl mx-auto border-t border-[#39c5bb]/10">
        <h2 class="text-2xl font-black mb-16 miku-text uppercase tracking-tighter reveal">Kinh nghiệm làm việc</h2>
        <div class="timeline-container">
            <div class="timeline-item reveal"><div class="timeline-dot"></div><h4 class="text-lg font-bold text-gray-100 uppercase">Golden Rooster Collection</h4><p class="text-[10px] miku-text font-bold">2024 – Hiện tại</p></div>
            <div class="timeline-item reveal"><div class="timeline-dot"></div><h4 class="text-lg font-bold text-gray-100 uppercase">Bắp Rang Bơ Media</h4><p class="text-[10px] miku-text font-bold">2024 – Hiện tại</p></div>
        </div>
    </section>

    <section id="projects" class="py-24 px-6 max-w-6xl mx-auto border-t border-[#39c5bb]/10">
        <h3 class="text-2xl font-black miku-text uppercase tracking-tighter mb-12 reveal">Interactive 3D View</h3>
        <div class="portfolio-grid-3d reveal">
            <div class="info-card-3d">
                <div class="hud-label">Technical Stats</div>
                <div class="text-[11px] flex justify-between"><span class="text-gray-500">Geometry</span><span id="poly-count" class="miku-text">Loading...</span></div>
                <div class="text-[11px] flex justify-between"><span class="text-gray-500">Axis</span><span class="miku-text">Vertical Fixed</span></div>
            </div>
            <div class="viewport-box" id="three-container"><div class="scan-line"></div></div>
            <div class="info-card-3d">
                <div class="hud-label">3D Presentation</div>
                <p class="text-[10px] text-gray-500 italic">Mô hình được tối ưu hóa cho hiển thị WebGL.</p>
                <a href="#contact" class="btn-action">Liên hệ thiết kế</a>
            </div>
        </div>
    </section>

    <footer id="contact" class="py-32 text-center border-t border-[#39c5bb]/10 reveal">
        <h3 class="text-xl font-black mb-10 miku-text italic">Let's work together</h3>
        <p class="text-lg font-bold mb-2">phatvo.0401@gmail.com</p>
        <div class="flex justify-center gap-8 md:gap-16 mt-12 text-[10px] font-bold">
            <a href="https://facebook.com" target="_blank" class="social-link">FACEBOOK</a>
            <a href="https://instagram.com" target="_blank" class="social-link">INSTAGRAM</a>
        </div>
    </footer>

    <button id="backToTop">↑</button>

    <script type="importmap"> { "imports": { "three": "https://unpkg.com/three@0.160.0/build/three.module.js", "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/" } } </script>

    <script type="module">
        import * as THREE from 'three';
        import { STLLoader } from 'three/addons/loaders/STLLoader.js';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

        // --- 1. KHÔI PHỤC TOÀN BỘ LOGIC UI CŨ ---
        
        // Loader
        window.addEventListener('load', () => {
            const progress = document.getElementById('loader-progress');
            const loaderNum = document.getElementById('loader-num');
            const loader = document.getElementById('loader');
            let width = 0;
            const interval = setInterval(() => {
                if (width >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        loader.classList.add('hidden');
                        document.querySelectorAll('.reveal').forEach(el => {
                            if(el.getBoundingClientRect().top < window.innerHeight) el.classList.add('active');
                        });
                    }, 400);
                } else {
                    width += Math.floor(Math.random() * 15) + 1;
                    if (width > 100) width = 100;
                    progress.style.width = width + '%';
                    loaderNum.textContent = width.toString().padStart(2, '0');
                }
            }, 80);
        });

        // Clock
        function updateClock() {
            const now = new Date();
            document.getElementById('digital-clock').textContent = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true });
        }
        setInterval(updateClock, 1000); updateClock();

        // Cursor
        const cursor = document.getElementById('cursor');
        if (!('ontouchstart' in window)) {
            document.addEventListener('mousemove', e => {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
            });
            document.querySelectorAll('a, button, .skill-tag, .project-card, .avatar-frame').forEach(el => {
                el.addEventListener('mouseenter', () => {
                    cursor.style.transform = 'translate(-50%, -50%) scale(1.5)';
                    cursor.style.background = 'rgba(57, 197, 187, 0.1)';
                });
                el.addEventListener('mouseleave', () => {
                    cursor.style.transform = 'translate(-50%, -50%) scale(1)';
                    cursor.style.background = 'transparent';
                });
            });
        }

        // AVATAR INTERACTIVE (PC) - ĐÃ KHÔI PHỤC
        const avatar = document.getElementById('interactive-avatar');
        if (!('ontouchstart' in window)) {
            document.addEventListener('mousemove', (e) => {
                const { clientX, clientY } = e;
                const rect = avatar.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                const moveX = (clientX - centerX) / 10; 
                const moveY = (clientY - centerY) / 10;
                const dist = Math.hypot(clientX - centerX, clientY - centerY);
                if (dist < 400) {
                    avatar.style.transform = `translate3d(${moveX}px, ${moveY}px, 0) rotateX(${-moveY/2}deg) rotateY(${moveX/2}deg)`;
                } else {
                    avatar.style.transform = `translate3d(0, 0, 0) rotateX(0) rotateY(0)`;
                }
            });
        }

        // NAV ACTIVE & PROGRESS BAR - ĐÃ KHÔI PHỤC
        const sections = document.querySelectorAll("section, footer"); 
        const navLinks = document.querySelectorAll(".nav-link");
        const navMenu = document.getElementById('nav-menu');
        const progressBar = document.getElementById('progress-bar');
        const btt = document.getElementById('backToTop');

        window.addEventListener("scroll", () => {
            const scrollPos = window.pageYOffset || document.documentElement.scrollTop;
            const windowHeight = window.innerHeight;
            const bodyHeight = document.documentElement.scrollHeight;
            progressBar.style.width = (scrollPos / (bodyHeight - windowHeight)) * 100 + "%";

            if (scrollPos > 500) btt.classList.add('show'); else btt.classList.remove('show');

            let current = "";
            sections.forEach((section) => {
                if (scrollPos >= section.offsetTop - 150) current = section.getAttribute("id");
            });

            navLinks.forEach((link) => {
                link.classList.remove("active");
                if (link.getAttribute("href") === `#${current}`) {
                    link.classList.add("active");
                    if (window.innerWidth < 768) {
                        navMenu.scrollTo({ left: link.offsetLeft - (navMenu.offsetWidth/2) + (link.offsetWidth/2), behavior: 'smooth' });
                    }
                }
            });
            // Reveal on scroll
            document.querySelectorAll('.reveal').forEach(el => {
                if(el.getBoundingClientRect().top < window.innerHeight - 50) el.classList.add('active');
            });
        });

        // --- 2. 3D ENGINE (XỬ LÝ FILE STL BỊ NGÃ) ---
        let scene, camera, renderer, controls, mesh;
        const container = document.getElementById('three-container');

        function initThree() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(40, container.clientWidth / container.clientHeight, 1, 10000);
            camera.position.set(250, 150, 250);

            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            container.appendChild(renderer.domElement);

            const light1 = new THREE.DirectionalLight(0xffffff, 2.5);
            light1.position.set(1, 1, 1); scene.add(light1);
            const ambient = new THREE.AmbientLight(0xffffff, 0.6); scene.add(ambient);

            controls = new OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true; controls.autoRotate = true; controls.enableZoom = false;

            const loader = new STLLoader();
            loader.load('model.stl', (geometry) => {
                geometry.computeVertexNormals();
                geometry.center();

                const material = new THREE.MeshPhongMaterial({ color: 0x39c5bb, shininess: 100, side: THREE.DoubleSide });
                mesh = new THREE.Mesh(geometry, material);

                // --- QUAN TRỌNG: XOAY FILE ĐỨNG LÊN ---
                // STL thường bị ngã do trục Z hướng lên, WebGL dùng trục Y hướng lên.
                mesh.rotation.x = -Math.PI / 2; 

                const radius = geometry.boundingSphere.radius;
                const scale = 110 / radius;
                mesh.scale.set(scale, scale, scale);
                scene.add(mesh);

                document.getElementById('poly-count').innerText = `${Math.round(geometry.attributes.position.count/3).toLocaleString()} Polys`;
            });

            function anim3d() { requestAnimationFrame(anim3d); controls.update(); renderer.render(scene, camera); }
            anim3d();
        }
        initThree();

        // --- 3. DYNAMIC BACKGROUND (RAINING LINES) ---
        const heroCanvas = document.getElementById('hero-canvas');
        const hctx = heroCanvas.getContext('2d');
        let hW, hH;
        function resizeHero() { hW = heroCanvas.width = window.innerWidth; hH = heroCanvas.height = window.innerHeight; }
        window.addEventListener('resize', resizeHero); resizeHero();
        class MikuLine {
            constructor() { this.init(); }
            init() { this.x = Math.random() * hW; this.y = Math.random() * -hH; this.speed = Math.random() * 3 + 2; this.len = Math.random() * 80 + 40; this.opacity = Math.random() * 0.4 + 0.1; }
            update() { this.y += this.speed; if (this.y > hH) this.init(); }
            draw() { hctx.beginPath(); let g = hctx.createLinearGradient(0, this.y, 0, this.y + this.len); g.addColorStop(0, 'transparent'); g.addColorStop(1, `rgba(57, 197, 187, ${this.opacity})`); hctx.strokeStyle = g; hctx.lineWidth = 1; hctx.moveTo(this.x, this.y); hctx.lineTo(this.x, this.y + this.len); hctx.stroke(); }
        }
        const lines = Array.from({length: 40}, () => new MikuLine());
        function animHero() { hctx.clearRect(0,0,hW,hH); lines.forEach(l => { l.update(); l.draw(); }); requestAnimationFrame(animHero); }
        animHero();

    </script>
</body>
</html>
